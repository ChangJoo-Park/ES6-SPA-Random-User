{"version":3,"sources":["webpack:///webpack/bootstrap 19d64479e87f00a486bb","webpack:///./js/main.js","webpack:///./js/contact-service-mock.js","webpack:///./js/contact-dom.js"],"names":["service","document","addEventListener","findAll","then","contacts","loadContact","getElementById","innerHTML","value","event","preventDefault","queryText","findByName","catch","error","message","html","forEach","contact","contactDOM","domObject","undefined","Promise","resolve","reject","getJSON","data","results","trim","length","q","toLowerCase","result","name","first","match","last","push","url","xhr","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","open","send","ContactDOM","address","location","city","postcode","state","street","phones","type","number","phone","cell","dom","nameDOM","domBasicProfile","addressDOM","domAddress","phoneDOM","domPhone","id","picture","large"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 19d64479e87f00a486bb","/*\n* @Author: changjoopark\n* @Date:   2016-05-10 17:50:32\n* @Last Modified by:   ChangJoo Park\n* @Last Modified time: 2016-05-10 21:13:44\n*/\n\n'use strict';\nimport * as service from './contact-service-mock';\nimport ContactDOM from './contact-dom';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  service.findAll().then((contacts)=>{\n    loadContact(contacts);\n  });\n});\n\n//  Click Contact Reload button\ndocument.getElementById('reloadContacts').addEventListener('click', ()=> {\n  document.getElementById('flash').innerHTML = '';\n  document.getElementById('searchContactQuery').value = '';\n  service.findAll().then((contacts)=>{\n    loadContact(contacts);\n  });\n});\n\ndocument.getElementById('searchForm').addEventListener('submit', (event)=> {\n  event.preventDefault();\n  document.getElementById('flash').innerHTML = '';\n\n  const queryText = document.getElementById('searchContactQuery');\n  service.findByName(queryText.value).then((contacts)=>{\n    loadContact(contacts);\n  }).catch((error)=>{\n    document.getElementById('flash').innerHTML = `<div class=\"alert alert-danger\" role=\"alert\">${error.message}</div>`;\n    queryText.value = \"\";\n  });\n});\n\nfunction loadContact(contacts) {\n  let html = '';\n  contacts.forEach((contact)=>{\n    let contactDOM = new ContactDOM(contact);\n    html += contactDOM.domObject;\n  });\n  document.getElementById('contacts').innerHTML = html;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","/*\n* @Author: changjoopark\n* @Date:   2016-05-10 17:57:01\n* @Last Modified by:   ChangJoo Park\n* @Last Modified time: 2016-05-10 21:47:55\n*/\n\n'use strict';\nlet contacts = undefined;\n\nexport let findAll = () => new Promise((resolve, reject) => {\n    if(contacts === undefined) {\n      getJSON('https://randomuser.me/api?results=25')\n      .then(function (data) {\n        contacts = data;\n        resolve(contacts.results);\n      });\n    } else {\n      if (contacts) {\n        resolve(contacts.results);\n      } else {\n        reject(\"No Contacts\");\n      }\n    }\n  });\n\nexport let findByName = (queryText) => new Promise((resolve, reject) => {\n    if (queryText.trim() === '') {\n      resolve(contacts.results);\n    } else if (queryText.length > 0) {\n      const q = queryText.trim().toLowerCase();\n      let result = [];\n      contacts.results.forEach((contact) => {\n        if (contact.name.first.toLowerCase().match(q) ||\n          contact.name.last.toLowerCase().match(q)) {\n          result.push(contact);\n        }\n      });\n      if (result.length > 0) {\n        resolve(result);\n      } else {\n        reject({\n          message: `Can't find mathched : ${queryText}`\n        });\n      }\n    }\n  });\n\n\nfunction getJSON(url) {\n  return new Promise((resolve, reject) => {\n    var xhr = new XMLHttpRequest();\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200) {\n          resolve(JSON.parse(xhr.responseText));\n        } else {\n          reject(xhr.responseText);\n        }\n      }\n    };\n    xhr.open('GET', url);\n    xhr.send();  \n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/contact-service-mock.js","/*\n* @Author: changjoopark\n* @Date:   2016-05-10 18:09:49\n* @Last Modified by:   ChangJoo Park\n* @Last Modified time: 2016-05-10 21:47:18\n*/\n\n'use strict';\n\nexport default class ContactDOM  {\n  constructor(contact) {\n    this.contact = contact;\n  }\n\n  get domObject() {\n    const nameDOM = this.domBasicProfile();\n    const addressDOM = this.domAddress();\n    const phoneDOM = this.domPhone();\n    const html = `<div class='contact-${this.contact.id} col-sm-6 col-md-4'>\n      <div class=\"thumbnail\">\n        <img src=\"${this.contact.picture.large}\"/>\n        <div class=\"caption\">\n          ${nameDOM}\n        </div>\n        ${addressDOM}\n        ${phoneDOM}\n      </div>\n    </div>`;\n    return html;\n  }\n\n  domBasicProfile() {\n    const name = this.contact.name;\n    return `<h3>${name.first} ${name.last}</h3>`;\n  }\n\n  domAddress() {\n    const address = this.contact.location;\n    return `<div class='address'>\n      <p>City : ${address.city}</p>\n      <p>Postal Code : ${address.postcode}</p>\n      <p>State : ${address.state}</p>\n      <p>Street : ${address.street}</p>\n    </div>`;\n  }\n\n  domPhone() {\n    let phones = [];\n    phones.push({type: 'phone', number: this.contact.phone });\n    phones.push({type: 'cell', number: this.contact.cell });\n    let html = '<div class=\"phones\"><ul>';\n    phones.forEach((phone)=>{\n      var dom = `<li>${phone.type} : ${phone.number}</li>`;\n      html += dom;\n    });\n    html += '</ul></div>';\n    return html;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/contact-dom.js"],"sourceRoot":""}